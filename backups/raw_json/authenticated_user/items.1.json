[{"rendered_body":"\u003cp\u003e二項演算子つくるときはこう\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003elet ( ここに演算子にしたい文字列を書く ) 引数1 引数2 = 結果\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e単項はこう\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003elet ( ここに演算子にしたい文字列を書く ) 引数1 = 結果\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e二項演算子の場合、最初に使える文字は\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e+\u003c/li\u003e\n\u003cli\u003e-\u003c/li\u003e\n\u003cli\u003e*\u003c/li\u003e\n\u003cli\u003e/\u003c/li\u003e\n\u003cli\u003e=\u003c/li\u003e\n\u003cli\u003e\u0026lt;\u003c/li\u003e\n\u003cli\u003e\u0026gt;\u003c/li\u003e\n\u003cli\u003e\u0026amp;\u003c/li\u003e\n\u003cli\u003e|\u003c/li\u003e\n\u003cli\u003e^\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eです。\u003c/p\u003e\n\n\u003cp\u003e単項演算子の場合\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e!\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eだけです。\u003c/p\u003e\n\n\u003cp\u003e2文字目以降には\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e+\u003c/li\u003e\n\u003cli\u003e-\u003c/li\u003e\n\u003cli\u003e*\u003c/li\u003e\n\u003cli\u003e/\u003c/li\u003e\n\u003cli\u003e^\u003c/li\u003e\n\u003cli\u003e\u0026amp;\u003c/li\u003e\n\u003cli\u003e|\u003c/li\u003e\n\u003cli\u003e!\u003c/li\u003e\n\u003cli\u003e:\u003c/li\u003e\n\u003cli\u003e=\u003c/li\u003e\n\u003cli\u003e\u0026lt;\u003c/li\u003e\n\u003cli\u003e\u0026gt;\u003c/li\u003e\n\u003cli\u003e~\u003c/li\u003e\n\u003cli\u003e'\u003c/li\u003e\n\u003cli\u003e.\u003c/li\u003e\n\u003cli\u003e?\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eが使えます。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"例-リストの先頭に要素を追加する演算子を定義する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BE%8B-%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E5%85%88%E9%A0%AD%E3%81%AB%E8%A6%81%E7%B4%A0%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%99%E3%82%8B%E6%BC%94%E7%AE%97%E5%AD%90%E3%82%92%E5%AE%9A%E7%BE%A9%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e例: リストの先頭に要素を追加する演算子\u003ccode\u003e\u0026gt;\u0026gt;\u003c/code\u003eを定義する\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e@require: stdja\n@require: list\n\nlet ( \u0026gt;\u0026gt; ) x lst = x :: lst\n\nlet-inline \\dump lst =\n  let d = lst |\u0026gt; List.fold-left (fun acc n -\u0026gt; acc ^ (arabic n) ^ `;`) ` ` in\n  embed-string (`[` ^ (string-sub d 0 ((string-length d) - 1)) ^ `]`)\nin\n\ndocument (|\n  author = { Seiei MIYAGI };\n  show-title = true;\n  show-toc = false;\n  title = { SATySFiで演算子定義 }\n|) '\u0026lt;\n  +p {\n    \\dump(1 \u0026gt;\u0026gt; 2 \u0026gt;\u0026gt; 3 \u0026gt;\u0026gt; []);\n  }\n\u0026gt;\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"結果\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%B5%90%E6%9E%9C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e結果\u003c/h3\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/9369d856e7707e1e2e808e83cb5eed2ce97d5527/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f323037342f35313661356465342d663738382d623135322d626130312d6564343836376636653461372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/9369d856e7707e1e2e808e83cb5eed2ce97d5527/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f323037342f35313661356465342d663738382d623135322d626130312d6564343836376636653461372e706e67\" alt=\"Screenshot from 2018-10-24 06-58-04.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/2074/516a5de4-f788-b152-ba01-ed4867f6e4a7.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"例-ネコにしゃべらせる単項演算子を定義するにゃん\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BE%8B-%E3%83%8D%E3%82%B3%E3%81%AB%E3%81%97%E3%82%83%E3%81%B9%E3%82%89%E3%81%9B%E3%82%8B%E5%8D%98%E9%A0%85%E6%BC%94%E7%AE%97%E5%AD%90%E3%82%92%E5%AE%9A%E7%BE%A9%E3%81%99%E3%82%8B%E3%81%AB%E3%82%83%E3%82%93\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e例: ネコにしゃべらせる単項演算子\u003ccode\u003e!\u0026gt;^..^\u0026lt;\u003c/code\u003eを定義するにゃん\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e@require: stdja\n\nlet ( !\u0026gt;^..^\u0026lt; ) s = {\\\u0026gt;^..^\\\u0026lt; .o( #s;にゃん )}\nlet message = !\u0026gt;^..^\u0026lt; { ねむ }\nin\n\ndocument (|\n  author = { Seiei MIYAGI };\n  show-title = true;\n  show-toc = false;\n  title = { SATySFiで演算子定義 }\n|) '\u0026lt;\n  +p { #message; }\n\u0026gt;\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"結果-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%B5%90%E6%9E%9C-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e結果\u003c/h3\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/7160e52ffc7fff85ec9d680507ce2877659e5a8c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f323037342f38316434633239302d613032392d366433622d663465642d3337333239313939363966332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/7160e52ffc7fff85ec9d680507ce2877659e5a8c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f323037342f38316434633239302d613032392d366433622d663465642d3337333239313939363966332e706e67\" alt=\"Screenshot from 2018-10-24 07-10-16.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/2074/81d4c290-a029-6d3b-f4ed-3732919969f3.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n","body":"二項演算子つくるときはこう\n\n```\nlet ( ここに演算子にしたい文字列を書く ) 引数1 引数2 = 結果\n```\n\n単項はこう\n\n```\nlet ( ここに演算子にしたい文字列を書く ) 引数1 = 結果\n```\n\n二項演算子の場合、最初に使える文字は\n\n- +\n- -\n- *\n- /\n- =\n- \u003c\n- \u003e\n- \u0026\n- |\n- ^\n\nです。\n\n単項演算子の場合\n\n- !\n\nだけです。\n\n2文字目以降には\n\n- +\n- -\n- *\n- /\n- ^\n- \u0026\n- |\n- !\n- :\n- =\n- \u003c\n- \u003e\n- ~\n- '\n- .\n- ?\n\nが使えます。\n\n## 例: リストの先頭に要素を追加する演算子`\u003e\u003e`を定義する\n\n```\n@require: stdja\n@require: list\n\nlet ( \u003e\u003e ) x lst = x :: lst\n\nlet-inline \\dump lst =\n  let d = lst |\u003e List.fold-left (fun acc n -\u003e acc ^ (arabic n) ^ `;`) ` ` in\n  embed-string (`[` ^ (string-sub d 0 ((string-length d) - 1)) ^ `]`)\nin\n\ndocument (|\n  author = { Seiei MIYAGI };\n  show-title = true;\n  show-toc = false;\n  title = { SATySFiで演算子定義 }\n|) '\u003c\n  +p {\n    \\dump(1 \u003e\u003e 2 \u003e\u003e 3 \u003e\u003e []);\n  }\n\u003e\n```\n\n### 結果\n\n![Screenshot from 2018-10-24 06-58-04.png](https://qiita-image-store.s3.amazonaws.com/0/2074/516a5de4-f788-b152-ba01-ed4867f6e4a7.png)\n\n\n## 例: ネコにしゃべらせる単項演算子`!\u003e^..^\u003c`を定義するにゃん\n\n```\n@require: stdja\n\nlet ( !\u003e^..^\u003c ) s = {\\\u003e^..^\\\u003c .o( #s;にゃん )}\nlet message = !\u003e^..^\u003c { ねむ }\nin\n\ndocument (|\n  author = { Seiei MIYAGI };\n  show-title = true;\n  show-toc = false;\n  title = { SATySFiで演算子定義 }\n|) '\u003c\n  +p { #message; }\n\u003e\n```\n\n### 結果\n\n![Screenshot from 2018-10-24 07-10-16.png](https://qiita-image-store.s3.amazonaws.com/0/2074/81d4c290-a029-6d3b-f4ed-3732919969f3.png)\n","coediting":false,"comments_count":0,"created_at":"2018-10-24T07:10:52+09:00","group":null,"id":"14501730a3c065d63d09","likes_count":3,"private":false,"reactions_count":0,"tags":[{"name":"SATySFi","versions":[]}],"title":"SATySFiで二項演算子や単項演算子を定義する","updated_at":"2018-10-24T07:10:52+09:00","url":"https://qiita.com/hanachin_/items/14501730a3c065d63d09","user":{"description":"既婚バイ","facebook_id":"seiei.higa","followees_count":166,"followers_count":120,"github_login_name":"hanachin","id":"hanachin_","items_count":55,"linkedin_id":"","location":"Naha, Okinawa, Japan","name":"Seiei Miyagi","organization":"YassLab","permanent_id":2074,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/2074/profile-images/1511092027","twitter_screen_name":"hanachin_","website_url":""},"page_views_count":null}]