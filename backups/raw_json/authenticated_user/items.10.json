[{"rendered_body":"\u003cp\u003e\u003ca href=\"https://gist.github.com/hanachin/f021b3674d1c2f3ff326bb42ed3ef12a#file-fizzbuzz-pdf\" rel=\"nofollow noopener\" target=\"_blank\"\u003e生成されたPDF\u003c/a\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"ml\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003efizzbuzz.saty\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"kr\"\u003elet\u003c/span\u003e\u003cspan class=\"n\"\u003e-inline\u003c/span\u003e \u003cspan class=\"n\"\u003ectx\u003c/span\u003e \u003cspan class=\"n\"\u003e\\fizzbuzz\u003c/span\u003e \u003cspan class=\"n\"\u003em\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003escript-guard\u003c/span\u003e \u003cspan class=\"n\"\u003eLatin\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eembed-math\u003c/span\u003e \u003cspan class=\"n\"\u003ectx\u003c/span\u003e \u003cspan class=\"n\"\u003em\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"kr\"\u003ein\u003c/span\u003e\n\n\u003cspan class=\"kr\"\u003elet\u003c/span\u003e \u003cspan class=\"n\"\u003ectx\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eget-initial-context\u003c/span\u003e \u003cspan class=\"mi\"\u003e440\u003c/span\u003e\u003cspan class=\"n\"\u003ept\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecommand\u003c/span\u003e \u003cspan class=\"n\"\u003e\\fizzbuzz\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"kr\"\u003ein\u003c/span\u003e\n\n\u003cspan class=\"kr\"\u003elet\u003c/span\u003e \u003cspan class=\"n\"\u003efizzbuzz-str\u003c/span\u003e \u003cspan class=\"n\"\u003en\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e\n  \u003cspan class=\"n\"\u003ematch\u003c/span\u003e \u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"n\"\u003en\u003c/span\u003e \u003cspan class=\"n\"\u003emod\u003c/span\u003e \u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003en\u003c/span\u003e \u003cspan class=\"n\"\u003emod\u003c/span\u003e \u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"kr\"\u003ewith\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e|\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003e`FizzBuzz`\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e|\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e_)\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003e`Fizz`\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e|\u003c/span\u003e \u003cspan class=\"p\"\u003e(_,\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003e`Buzz`\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e|\u003c/span\u003e \u003cspan class=\"p\"\u003e_\u003c/span\u003e      \u003cspan class=\"p\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003earabic\u003c/span\u003e \u003cspan class=\"n\"\u003en\u003c/span\u003e\n\u003cspan class=\"kr\"\u003ein\u003c/span\u003e\n\n\u003cspan class=\"kr\"\u003elet\u003c/span\u003e \u003cspan class=\"n\"\u003efizzbuzz-line\u003c/span\u003e \u003cspan class=\"n\"\u003en\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eline-break\u003c/span\u003e \u003cspan class=\"n\"\u003etrue\u003c/span\u003e \u003cspan class=\"n\"\u003etrue\u003c/span\u003e \u003cspan class=\"n\"\u003ectx\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eread-inline\u003c/span\u003e \u003cspan class=\"n\"\u003ectx\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eembed-string\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003efizzbuzz-str\u003c/span\u003e \u003cspan class=\"n\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e \u003cspan class=\"kr\"\u003ein\u003c/span\u003e\n\n\u003cspan class=\"kr\"\u003elet\u003c/span\u003e \u003cspan class=\"n\"\u003efizzbuzz\u003c/span\u003e \u003cspan class=\"n\"\u003en\u003c/span\u003e \u003cspan class=\"n\"\u003eupto\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e\n  \u003cspan class=\"kr\"\u003elet\u003c/span\u003e\u003cspan class=\"n\"\u003e-\u003c/span\u003e\u003cspan class=\"kr\"\u003erec\u003c/span\u003e \u003cspan class=\"n\"\u003eiter\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"n\"\u003eacc\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e\n    \u003cspan class=\"kr\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"n\"\u003e==\u003c/span\u003e \u003cspan class=\"n\"\u003eupto\u003c/span\u003e \u003cspan class=\"kr\"\u003ethen\u003c/span\u003e\n      \u003cspan class=\"n\"\u003eacc\u003c/span\u003e \u003cspan class=\"n\"\u003e+++\u003c/span\u003e \u003cspan class=\"n\"\u003efizzbuzz-line\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e\n    \u003cspan class=\"kr\"\u003eelse\u003c/span\u003e\n      \u003cspan class=\"n\"\u003eiter\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"n\"\u003e+\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eacc\u003c/span\u003e \u003cspan class=\"n\"\u003e+++\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003efizzbuzz-line\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n  \u003cspan class=\"kr\"\u003ein\u003c/span\u003e\n  \u003cspan class=\"n\"\u003eiter\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e \u003cspan class=\"n\"\u003eblock-nil\u003c/span\u003e\n\u003cspan class=\"kr\"\u003ein\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003epage-break\u003c/span\u003e\n  \u003cspan class=\"n\"\u003eA4Paper\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kr\"\u003efun\u003c/span\u003e \u003cspan class=\"nf\"\u003epbinfo\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e(|\u003c/span\u003e\n    \u003cspan class=\"n\"\u003etext-height\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e842\u003c/span\u003e\u003cspan class=\"n\"\u003ept\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003etext-origin\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"n\"\u003ept\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"n\"\u003ept\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e|))\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kr\"\u003efun\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003epbinfo\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"nf\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e(|\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eheader-content\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eblock-nil\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eheader-origin\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"n\"\u003ept\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"n\"\u003ept\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003efooter-content\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eblock-nil\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003efooter-origin\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"n\"\u003ept\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"n\"\u003ept\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e|))\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003efizzbuzz\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e \u003cspan class=\"mi\"\u003e100\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n","body":"[生成されたPDF](https://gist.github.com/hanachin/f021b3674d1c2f3ff326bb42ed3ef12a#file-fizzbuzz-pdf)\n\n```ml:fizzbuzz.saty\nlet-inline ctx \\fizzbuzz m = script-guard Latin (embed-math ctx m) in\n\nlet ctx = get-initial-context 440pt (command \\fizzbuzz) in\n\nlet fizzbuzz-str n =\n  match ((n mod 3), (n mod 5)) with\n    | (0, 0) -\u003e `FizzBuzz`\n    | (0, _) -\u003e `Fizz`\n    | (_, 0) -\u003e `Buzz`\n    | _      -\u003e arabic n\nin\n\nlet fizzbuzz-line n = line-break true true ctx (read-inline ctx (embed-string (fizzbuzz-str n))) in\n\nlet fizzbuzz n upto =\n  let-rec iter i acc =\n    if i == upto then\n      acc +++ fizzbuzz-line i\n    else\n      iter (i + 1) (acc +++ (fizzbuzz-line i))\n  in\n  iter 1 block-nil\nin\n\npage-break\n  A4Paper\n  (fun pbinfo -\u003e (|\n    text-height = 842pt;\n    text-origin = (0pt, 0pt);\n  |))\n  (fun (pbinfo) -\u003e (|\n    header-content = block-nil;\n    header-origin = (0pt, 0pt);\n    footer-content = block-nil;\n    footer-origin = (0pt, 0pt);\n  |))\n  (fizzbuzz 1 100)\n```\n","coediting":false,"comments_count":0,"created_at":"2018-09-29T08:27:46+09:00","group":null,"id":"6b66e77b2b1b716b1c7b","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"FizzBuzz","versions":[]},{"name":"SATySFi","versions":[]}],"title":"SATySFiでFizzBuzz","updated_at":"2018-10-08T00:13:58+09:00","url":"https://qiita.com/hanachin_/items/6b66e77b2b1b716b1c7b","user":{"description":"既婚バイ","facebook_id":"seiei.higa","followees_count":166,"followers_count":120,"github_login_name":"hanachin","id":"hanachin_","items_count":55,"linkedin_id":"","location":"Naha, Okinawa, Japan","name":"Seiei Miyagi","organization":"YassLab","permanent_id":2074,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/2074/profile-images/1511092027","twitter_screen_name":"hanachin_","website_url":""},"page_views_count":null}]