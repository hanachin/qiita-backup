[{"rendered_body":"\n\u003ch2\u003e\n\u003cspan id=\"ズンドコキヨシ物語\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%BA%E3%83%B3%E3%83%89%E3%82%B3%E3%82%AD%E3%83%A8%E3%82%B7%E7%89%A9%E8%AA%9E\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eズンドコキヨシ物語\u003c/h2\u003e\n\n\u003cp\u003eキヨシランドに自然と生まれてくるズン。\u003c/p\u003e\n\n\u003cp\u003eズンだけで仲よく暮らすが、まれにキヨシランドの怒りによりドコにされてしまう。\u003cbr\u003e\nドコになったズンは夜になると周りのズンと戦い、生き延びたドコは新しいズンと関わることなく一人キヨシランドを生きていく...。\u003c/p\u003e\n\n\u003cp\u003eドコになったズンが死ぬときキヨシランドの怒りが爆発する。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"rb\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eKiyoshiLand\u003c/span\u003e\n  \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003einitialize\u003c/span\u003e\n    \u003cspan class=\"vi\"\u003e@people\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[]\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003e\u0026lt;\u0026lt;\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003enewcomer\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"vi\"\u003e@people\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eselect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"ss\"\u003e:alive?\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eeach\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"o\"\u003e|\u003c/span\u003e\u003cspan class=\"n\"\u003eperson\u003c/span\u003e\u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"n\"\u003eperson\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ehi\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003enewcomer\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"n\"\u003eand\u003c/span\u003e \u003cspan class=\"n\"\u003enewcomer\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ehi\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eperson\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"vi\"\u003e@people\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003enewcomer\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003eangry?\u003c/span\u003e\n    \u003cspan class=\"nb\"\u003erand\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003ezero?\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003eeach_person\u003c/span\u003e\n    \u003cspan class=\"vi\"\u003e@people\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eeach\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"o\"\u003e|\u003c/span\u003e\u003cspan class=\"n\"\u003eperson\u003c/span\u003e\u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"k\"\u003eyield\u003c/span\u003e \u003cspan class=\"n\"\u003eperson\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003eproduce_zun\u003c/span\u003e\n    \u003cspan class=\"no\"\u003eZun\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003enew\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etap\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"o\"\u003e|\u003c/span\u003e\u003cspan class=\"n\"\u003ezun\u003c/span\u003e\u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"nb\"\u003eself\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003ezun\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eZun\u003c/span\u003e\n  \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003einitialize\u003c/span\u003e\n    \u003cspan class=\"vi\"\u003e@life\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\n    \u003cspan class=\"vi\"\u003e@neighbors\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[]\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003e\u0026lt;\u0026lt;\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edamage\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"vi\"\u003e@life\u003c/span\u003e \u003cspan class=\"o\"\u003e-=\u003c/span\u003e \u003cspan class=\"n\"\u003edamage\u003c/span\u003e\n    \u003cspan class=\"n\"\u003edead\u003c/span\u003e \u003cspan class=\"k\"\u003eunless\u003c/span\u003e \u003cspan class=\"vi\"\u003e@life\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003ealive?\u003c/span\u003e\n    \u003cspan class=\"kp\"\u003etrue\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003eattack\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eperson\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eperson\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003edamage\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003ebomb\u003c/span\u003e\n    \u003cspan class=\"s1\"\u003e'キ・ヨ・シ！'\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003edamage\u003c/span\u003e\n    \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003edead\u003c/span\u003e\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nc\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ealive?\u003c/span\u003e\n      \u003cspan class=\"kp\"\u003efalse\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nc\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003espend_a_night\u003c/span\u003e\n      \u003cspan class=\"ss\"\u003e:RIP\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003ehi\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eother\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"vi\"\u003e@neighbors\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003eother\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003emutate_into_doko\u003c/span\u003e\n    \u003cspan class=\"vi\"\u003e@life\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e4\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nc\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003edead\u003c/span\u003e\n      \u003cspan class=\"kp\"\u003ethrow\u003c/span\u003e \u003cspan class=\"n\"\u003ebomb\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nc\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ename\u003c/span\u003e\n      \u003cspan class=\"s1\"\u003e'ドコ'\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nc\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003espend_a_night\u003c/span\u003e\n      \u003cspan class=\"k\"\u003esuper\u003c/span\u003e\n\n      \u003cspan class=\"vi\"\u003e@neighbors\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eeach\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"o\"\u003e|\u003c/span\u003e\u003cspan class=\"n\"\u003eneighbor\u003c/span\u003e\u003cspan class=\"o\"\u003e|\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eattack\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eneighbor\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"n\"\u003eand\u003c/span\u003e \u003cspan class=\"n\"\u003eneighbor\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eattack\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003eneighbor\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ealive?\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n      \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nc\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ehi\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eother\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e# |ω・`）チラ\u003c/span\u003e\n      \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003ename\u003c/span\u003e\n    \u003cspan class=\"s1\"\u003e'ズン'\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003esleep\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e\u0026lt;\u0026lt;-\u003c/span\u003e\u003cspan class=\"no\"\u003eOFUTON\u003c/span\u003e\u003cspan class=\"sh\"\u003e\n    (¦3[___]\n\u003c/span\u003e\u003cspan class=\"no\"\u003e    OFUTON\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003espend_a_night\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e# 初夜は( ﾟдﾟ )ｸﾜｯ!!\u003c/span\u003e\n    \u003cspan class=\"nb\"\u003eputs\u003c/span\u003e \u003cspan class=\"nb\"\u003ename\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nc\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003espend_a_night\u003c/span\u003e\n      \u003cspan class=\"nb\"\u003esleep\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\n\u003cspan class=\"no\"\u003eKiyoshiLand\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003enew\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003einstance_eval\u003c/span\u003e \u003cspan class=\"k\"\u003edo\u003c/span\u003e\n  \u003cspan class=\"kp\"\u003eloop\u003c/span\u003e \u003cspan class=\"k\"\u003edo\u003c/span\u003e\n    \u003cspan class=\"n\"\u003enew_zun\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eproduce_zun\u003c/span\u003e\n    \u003cspan class=\"n\"\u003enew_zun\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003emutate_into_doko\u003c/span\u003e \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003eangry?\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eeach_person\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"ss\"\u003e:spend_a_night\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"実行例\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A1%8C%E4%BE%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実行例\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"console\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"go\"\u003e    _╰╰,   /ﾊﾞｼｮ % ~/tmp\n  _/o ŏｧ  / ﾀｲﾁｮｰ% ﾔﾊﾞｲ\n\u003c/span\u003e\u003cspan class=\"gp\"\u003e∈ミ;\u003c/span\u003eﾉ,ﾉ   ＼ｺﾏﾝﾄﾞ% ruby hikiyoshi.rb\n\u003cspan class=\"go\"\u003eズン\nドコ\nドコ\nズン\nズン\nドコ\nドコ\nドコ\nドコ\nズン\nズン\nドコ\nドコ\nズン\nズン\nドコ\nドコ\nドコ\nズン\nドコ\nズン\nドコ\nドコ\nドコ\nズン\nドコ\nドコ\nドコ\nドコ\nドコ\nズン\nドコ\nズン\nズン\nズン\nズン\nドコ\nhikiyoshi.rb:69:in `throw': uncaught throw \"キ・ヨ・シ！\" (UncaughtThrowError)\n    from hikiyoshi.rb:69:in `dead'\n    from hikiyoshi.rb:32:in `\u0026lt;\u0026lt;'\n    from hikiyoshi.rb:40:in `attack'\n    from hikiyoshi.rb:80:in `block in spend_a_night'\n    from hikiyoshi.rb:79:in `each'\n    from hikiyoshi.rb:79:in `spend_a_night'\n    from hikiyoshi.rb:16:in `block in each_person'\n    from hikiyoshi.rb:16:in `each'\n    from hikiyoshi.rb:16:in `each_person'\n\u003c/span\u003e\u003cspan class=\"gp\"\u003e    from hikiyoshi.rb:113:in `block (2 levels) in \u0026lt;main\u0026gt;\u003c/span\u003e\u003cspan class=\"s1\"\u003e'\n\u003c/span\u003e\u003cspan class=\"go\"\u003e    from hikiyoshi.rb:110:in `loop'\n\u003c/span\u003e\u003cspan class=\"gp\"\u003e    from hikiyoshi.rb:110:in `block in \u0026lt;main\u0026gt;\u003c/span\u003e\u003cspan class=\"s1\"\u003e'\n\u003c/span\u003e\u003cspan class=\"go\"\u003e    from hikiyoshi.rb:109:in `instance_eval'\n\u003c/span\u003e\u003cspan class=\"gp\"\u003e    from hikiyoshi.rb:109:in `\u0026lt;main\u0026gt;\u003c/span\u003e\u003cspan class=\"s1\"\u003e'\n\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"その他のキヨシ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%9D%E3%81%AE%E4%BB%96%E3%81%AE%E3%82%AD%E3%83%A8%E3%82%B7\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eその他のキヨシ\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"http://qiita.com/hanachin_/items/856ecb53fe486c6d4a12\" id=\"reference-de48729acf580d0d9934\"\u003eズンドコキヨシ Quine with Ruby\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"http://qiita.com/hanachin_/items/a4547d88e9008d390f58\" id=\"reference-ef406973a05c51b9eeb7\"\u003e歌うズンドコキヨシ with Ruby\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"http://qiita.com/hanachin_/items/2242c7bd33af39cc6cab\" id=\"reference-7f502d59afc1263d1ccf\"\u003eズンドコキヨシオートマトン with Ruby\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"http://qiita.com/hanachin_/items/b037b2e602c0bdee6a89\" id=\"reference-5bbc41838a4f96c8e3fc\"\u003eズンドコキヨシマシーン with Ruby\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"http://qiita.com/hanachin_/items/bad105e11ab707fbaf4c\" id=\"reference-28e016d1842c03d4b629\"\u003eズンドコキヨシワンライナー with Ruby\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n","body":"## ズンドコキヨシ物語\n\nキヨシランドに自然と生まれてくるズン。\n\nズンだけで仲よく暮らすが、まれにキヨシランドの怒りによりドコにされてしまう。\nドコになったズンは夜になると周りのズンと戦い、生き延びたドコは新しいズンと関わることなく一人キヨシランドを生きていく...。\n\nドコになったズンが死ぬときキヨシランドの怒りが爆発する。\n\n```rb\nclass KiyoshiLand\n  def initialize\n    @people = []\n  end\n\n  def \u003c\u003c(newcomer)\n    @people.select(\u0026:alive?).each {|person| person.hi(newcomer) and newcomer.hi(person) }\n    @people \u003c\u003c newcomer\n  end\n\n  def angry?\n    rand(2).zero?\n  end\n\n  def each_person\n    @people.each {|person| yield person }\n  end\n\n  def produce_zun\n    Zun.new.tap {|zun| self \u003c\u003c zun }\n  end\nend\n\nclass Zun\n  def initialize\n    @life = 1\n    @neighbors = []\n  end\n\n  def \u003c\u003c(damage)\n    @life -= damage\n    dead unless @life \u003e 0\n  end\n\n  def alive?\n    true\n  end\n\n  def attack(person)\n    person \u003c\u003c damage\n  end\n\n  def bomb\n    'キ・ヨ・シ！'\n  end\n\n  def damage\n    1\n  end\n\n  def dead\n    def self.alive?\n      false\n    end\n\n    def self.spend_a_night\n      :RIP\n    end\n  end\n\n  def hi(other)\n    @neighbors \u003c\u003c other\n  end\n\n  def mutate_into_doko\n    @life = 4\n\n    def self.dead\n      throw bomb\n    end\n\n    def self.name\n      'ドコ'\n    end\n\n    def self.spend_a_night\n      super\n\n      @neighbors.each {|neighbor|\n        attack(neighbor) and neighbor.attack(self) if neighbor.alive?\n      }\n\n      def self.hi(other)\n        # |ω・`）チラ\n      end\n    end\n  end\n\n  def name\n    'ズン'\n  end\n\n  def sleep\n    \u003c\u003c-OFUTON\n    (¦3[___]\n    OFUTON\n  end\n\n  def spend_a_night\n    # 初夜は( ﾟдﾟ )ｸﾜｯ!!\n    puts name\n\n    def self.spend_a_night\n      sleep\n    end\n  end\nend\n\nKiyoshiLand.new.instance_eval do\n  loop do\n    new_zun = produce_zun\n    new_zun.mutate_into_doko if angry?\n    each_person(\u0026:spend_a_night)\n  end\nend\n```\n\n## 実行例\n\n```console\n    _╰╰,   /ﾊﾞｼｮ % ~/tmp\n  _/o ŏｧ  / ﾀｲﾁｮｰ% ﾔﾊﾞｲ\n∈ミ;ﾉ,ﾉ   ＼ｺﾏﾝﾄﾞ% ruby hikiyoshi.rb\nズン\nドコ\nドコ\nズン\nズン\nドコ\nドコ\nドコ\nドコ\nズン\nズン\nドコ\nドコ\nズン\nズン\nドコ\nドコ\nドコ\nズン\nドコ\nズン\nドコ\nドコ\nドコ\nズン\nドコ\nドコ\nドコ\nドコ\nドコ\nズン\nドコ\nズン\nズン\nズン\nズン\nドコ\nhikiyoshi.rb:69:in `throw': uncaught throw \"キ・ヨ・シ！\" (UncaughtThrowError)\n\tfrom hikiyoshi.rb:69:in `dead'\n\tfrom hikiyoshi.rb:32:in `\u003c\u003c'\n\tfrom hikiyoshi.rb:40:in `attack'\n\tfrom hikiyoshi.rb:80:in `block in spend_a_night'\n\tfrom hikiyoshi.rb:79:in `each'\n\tfrom hikiyoshi.rb:79:in `spend_a_night'\n\tfrom hikiyoshi.rb:16:in `block in each_person'\n\tfrom hikiyoshi.rb:16:in `each'\n\tfrom hikiyoshi.rb:16:in `each_person'\n\tfrom hikiyoshi.rb:113:in `block (2 levels) in \u003cmain\u003e'\n\tfrom hikiyoshi.rb:110:in `loop'\n\tfrom hikiyoshi.rb:110:in `block in \u003cmain\u003e'\n\tfrom hikiyoshi.rb:109:in `instance_eval'\n\tfrom hikiyoshi.rb:109:in `\u003cmain\u003e'\n```\n\n## その他のキヨシ\n\n- [ズンドコキヨシ Quine with Ruby](http://qiita.com/hanachin_/items/856ecb53fe486c6d4a12)\n- [歌うズンドコキヨシ with Ruby](http://qiita.com/hanachin_/items/a4547d88e9008d390f58)\n- [ズンドコキヨシオートマトン with Ruby](http://qiita.com/hanachin_/items/2242c7bd33af39cc6cab)\n- [ズンドコキヨシマシーン with Ruby](http://qiita.com/hanachin_/items/b037b2e602c0bdee6a89)\n- [ズンドコキヨシワンライナー with Ruby](http://qiita.com/hanachin_/items/bad105e11ab707fbaf4c)\n","coediting":false,"comments_count":0,"created_at":"2016-03-16T06:16:45+09:00","group":null,"id":"055881be542afceca9d9","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"Ruby","versions":[]},{"name":"ズンドコキヨシ","versions":[]}],"title":"ズンドコキヨシ物語 with Ruby","updated_at":"2016-03-19T07:13:31+09:00","url":"https://qiita.com/hanachin_/items/055881be542afceca9d9","user":{"description":"既婚バイ","facebook_id":"seiei.higa","followees_count":166,"followers_count":120,"github_login_name":"hanachin","id":"hanachin_","items_count":55,"linkedin_id":"","location":"Naha, Okinawa, Japan","name":"Seiei Miyagi","organization":"YassLab","permanent_id":2074,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/2074/profile-images/1511092027","twitter_screen_name":"hanachin_","website_url":""},"page_views_count":null}]