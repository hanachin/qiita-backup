[{"rendered_body":"\n\u003ch2\u003e\n\u003cspan id=\"歌うズンドコキヨシ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%AD%8C%E3%81%86%E3%82%BA%E3%83%B3%E3%83%89%E3%82%B3%E3%82%AD%E3%83%A8%E3%82%B7\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e歌うズンドコキヨシ\u003c/h2\u003e\n\n\u003cp\u003e気づき: キ・ヨ・シ！は歌詞ではなかった\u003c/p\u003e\n\n\u003cp\u003eMacのsayコマンドでズンドコ言います。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"rb\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eRandomZundokoLyrics\u003c/span\u003e\n  \u003cspan class=\"no\"\u003eZUN_DOKO\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e'ズン'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s1\"\u003e'ドコ'\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\n  \u003cspan class=\"kp\"\u003einclude\u003c/span\u003e \u003cspan class=\"no\"\u003eEnumerable\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003eeach\u003c/span\u003e\n    \u003cspan class=\"kp\"\u003eloop\u003c/span\u003e \u003cspan class=\"k\"\u003edo\u003c/span\u003e\n      \u003cspan class=\"k\"\u003eyield\u003c/span\u003e \u003cspan class=\"no\"\u003eZUN_DOKO\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003esample\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eKiyoshi\u003c/span\u003e\n  \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003esing\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elyrics\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"n\"\u003elyrics\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eeach\u003c/span\u003e \u003cspan class=\"k\"\u003edo\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e\u003cspan class=\"n\"\u003eword\u003c/span\u003e\u003cspan class=\"o\"\u003e|\u003c/span\u003e\n      \u003cspan class=\"nb\"\u003esystem\u003c/span\u003e \u003cspan class=\"s1\"\u003e'say'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eword\u003c/span\u003e\n      \u003cspan class=\"k\"\u003eyield\u003c/span\u003e \u003cspan class=\"n\"\u003eword\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eZundokoKiyoshiFan\u003c/span\u003e\n  \u003cspan class=\"no\"\u003eCHANT\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s1\"\u003e'キ・ヨ・シ！'\u003c/span\u003e\n  \u003cspan class=\"no\"\u003eCHANT_TIMING_LYRICS\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e'ズン'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s1\"\u003e'ズン'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s1\"\u003e'ズン'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s1\"\u003e'ズン'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s1\"\u003e'ドコ'\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003einitialize\u003c/span\u003e\n    \u003cspan class=\"vi\"\u003e@words_buffer\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[]\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003e\u0026lt;\u0026lt;\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eword\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"vi\"\u003e@words_buffer\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003eword\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"vi\"\u003e@words_buffer\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003esize\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"no\"\u003eCHANT_TIMING_LYRICS\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003esize\u003c/span\u003e\n      \u003cspan class=\"vi\"\u003e@words_buffer\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eshift\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003echant_timing?\u003c/span\u003e\n    \u003cspan class=\"vi\"\u003e@words_buffer\u003c/span\u003e \u003cspan class=\"o\"\u003e==\u003c/span\u003e \u003cspan class=\"no\"\u003eCHANT_TIMING_LYRICS\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003echant\u003c/span\u003e\n    \u003cspan class=\"nb\"\u003esystem\u003c/span\u003e \u003cspan class=\"s1\"\u003e'say'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"no\"\u003eCHANT\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"err\"\u003eズンドコ♪\u003c/span\u003e\n  \u003cspan class=\"n\"\u003ekiyoshi\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"no\"\u003eKiyoshi\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003enew\u003c/span\u003e\n  \u003cspan class=\"n\"\u003elyrics\u003c/span\u003e  \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"no\"\u003eRandomZundokoLyrics\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003enew\u003c/span\u003e\n  \u003cspan class=\"n\"\u003efan\u003c/span\u003e     \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"no\"\u003eZundokoKiyoshiFan\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003enew\u003c/span\u003e\n  \u003cspan class=\"n\"\u003ekiyoshi\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003esing\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elyrics\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003edo\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e\u003cspan class=\"n\"\u003eword\u003c/span\u003e\u003cspan class=\"o\"\u003e|\u003c/span\u003e\n    \u003cspan class=\"n\"\u003efan\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003eword\u003c/span\u003e\n    \u003cspan class=\"n\"\u003efan\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003echant\u003c/span\u003e \u003cspan class=\"n\"\u003eand\u003c/span\u003e \u003cspan class=\"nb\"\u003eexit\u003c/span\u003e \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003efan\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003echant_timing?\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\n\u003cspan class=\"err\"\u003eズンドコ♪\u003c/span\u003e\n\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"実行例\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A1%8C%E4%BE%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実行例\u003c/h2\u003e\n\n\u003cp\u003e(sayコマンドから音声が聞こえてくる)\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"その他のキヨシ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%9D%E3%81%AE%E4%BB%96%E3%81%AE%E3%82%AD%E3%83%A8%E3%82%B7\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eその他のキヨシ\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"http://qiita.com/hanachin_/items/856ecb53fe486c6d4a12\" id=\"reference-04a2242ec2277c06296c\"\u003eズンドコキヨシ Quine with Ruby\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"http://qiita.com/hanachin_/items/2242c7bd33af39cc6cab\" id=\"reference-37e7cc0fc470e7215b65\"\u003eズンドコキヨシオートマトン with Ruby\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"http://qiita.com/hanachin_/items/b037b2e602c0bdee6a89\" id=\"reference-25ba25527dd57f69e1c5\"\u003eズンドコキヨシマシーン with Ruby\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"http://qiita.com/hanachin_/items/bad105e11ab707fbaf4c\" id=\"reference-aae571ebfcee902ef68b\"\u003eズンドコキヨシワンライナー with Ruby\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"http://qiita.com/hanachin_/items/055881be542afceca9d9\" id=\"reference-28fc7c523abe2eded639\"\u003eズンドコキヨシ物語 with Ruby\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n","body":"## 歌うズンドコキヨシ\n\n気づき: キ・ヨ・シ！は歌詞ではなかった\n\nMacのsayコマンドでズンドコ言います。\n\n```rb\nclass RandomZundokoLyrics\n  ZUN_DOKO = ['ズン', 'ドコ']\n\n  include Enumerable\n\n  def each\n    loop do\n      yield ZUN_DOKO.sample\n    end\n  end\nend\n\nclass Kiyoshi\n  def sing(lyrics)\n    lyrics.each do |word|\n      system 'say', word\n      yield word\n    end\n  end\nend\n\nclass ZundokoKiyoshiFan\n  CHANT = 'キ・ヨ・シ！'\n  CHANT_TIMING_LYRICS = ['ズン', 'ズン', 'ズン', 'ズン', 'ドコ']\n\n  def initialize\n    @words_buffer = []\n  end\n\n  def \u003c\u003c(word)\n    @words_buffer \u003c\u003c word\n\n    if @words_buffer.size \u003e CHANT_TIMING_LYRICS.size\n      @words_buffer.shift\n    end\n  end\n\n  def chant_timing?\n    @words_buffer == CHANT_TIMING_LYRICS\n  end\n\n  def chant\n    system 'say', CHANT\n  end\nend\n\ndef ズンドコ♪\n  kiyoshi = Kiyoshi.new\n  lyrics  = RandomZundokoLyrics.new\n  fan     = ZundokoKiyoshiFan.new\n  kiyoshi.sing(lyrics) do |word|\n    fan \u003c\u003c word\n    fan.chant and exit if fan.chant_timing?\n  end\nend\n\nズンドコ♪\n\n```\n\n## 実行例\n\n(sayコマンドから音声が聞こえてくる)\n\n## その他のキヨシ\n\n- [ズンドコキヨシ Quine with Ruby](http://qiita.com/hanachin_/items/856ecb53fe486c6d4a12)\n- [ズンドコキヨシオートマトン with Ruby](http://qiita.com/hanachin_/items/2242c7bd33af39cc6cab)\n- [ズンドコキヨシマシーン with Ruby](http://qiita.com/hanachin_/items/b037b2e602c0bdee6a89)\n- [ズンドコキヨシワンライナー with Ruby](http://qiita.com/hanachin_/items/bad105e11ab707fbaf4c)\n- [ズンドコキヨシ物語 with Ruby](http://qiita.com/hanachin_/items/055881be542afceca9d9)\n","coediting":false,"comments_count":0,"created_at":"2016-03-13T03:24:22+09:00","group":null,"id":"a4547d88e9008d390f58","likes_count":8,"private":false,"reactions_count":0,"tags":[{"name":"Ruby","versions":[]},{"name":"ズンドコキヨシ","versions":[]}],"title":"歌うズンドコキヨシ with Ruby","updated_at":"2016-03-19T07:14:10+09:00","url":"https://qiita.com/hanachin_/items/a4547d88e9008d390f58","user":{"description":"既婚バイ","facebook_id":"seiei.higa","followees_count":166,"followers_count":120,"github_login_name":"hanachin","id":"hanachin_","items_count":55,"linkedin_id":"","location":"Naha, Okinawa, Japan","name":"Seiei Miyagi","organization":"YassLab","permanent_id":2074,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/2074/profile-images/1511092027","twitter_screen_name":"hanachin_","website_url":""},"page_views_count":null}]